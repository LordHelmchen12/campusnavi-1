<html> 
<head> 
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/> 
<script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=true"></script>
<script type="text/javascript" src="../src/infobox.js"></script>
 
<script type="text/javascript">
var map;
function initialize() {
  var latitude = 0;
  var longitude = 0;
  if (window.android){
    latitude = window.android.getLatitude();
    longitude = window.android.getLongitude();
  }
  
  var DeviceLatlng = new google.maps.LatLng(latitude,longitude);
  var TargetLatlng = new google.maps.LatLng(latitude,longitude);
  
  var myOptions = {
    zoom: 16,
    center: DeviceLatlng,
    mapTypeId: google.maps.MapTypeId.HYBRID
  }
  
  map = new google.maps.Map(document.getElementById("map_canvas"),
    myOptions);
  
    
}
function markerDevice(latitude,longitude){
	  DeviceLatlng = new google.maps.LatLng(latitude,longitude);
	  map.panTo(DeviceLatlng);
	  var image = 'http://gmaps-samples.googlecode.com/svn/trunk/markers/blue/blank.png';
	  var markerDevice = new google.maps.Marker({
	      position: DeviceLatlng, 
	      map: map,
	      title:"Start",
	      icon: image
	  });
}
function markerTarget(latitude,longitude){
	TargetLatlng = new google.maps.LatLng(latitude,longitude);
	
	var markerTarget = new google.maps.Marker({
	      position: TargetLatlng, 
	      map: map,
	      title:"Ziel"
	  });
	var boxText = document.createElement("div");
	boxText.style.cssText = "border: 1px solid black; margin-top: 8px; background: yellow; padding: 5px;";
	boxText.innerHTML = "Hier<br>muss jetzt<br>was stehen...?!";

	var myOptions = {
		 content: boxText
		,disableAutoPan: false
		,maxWidth: 0
		,pixelOffset: new google.maps.Size(-140, 0)
		,zIndex: null
		,boxStyle: { 
		  background: "url('tipbox.gif') no-repeat"
		  ,opacity: 0.75
		  ,width: "280px"
		 }
		,closeBoxMargin: "10px 2px 2px 2px"
		,closeBoxURL: "http://www.google.com/intl/en_us/mapfiles/close.gif"
		,infoBoxClearance: new google.maps.Size(1, 1)
		,isHidden: false
		,pane: "floatPane"
		,enableEventPropagation: false
	};

	google.maps.event.addListener(markerTarget, "click", function (e) {
		ib.open(map, this);
	});

	var ib = new InfoBox(myOptions);
	ib.open(map, markerTarget);
}

function showTrafficLayer(){
  var trafficLayer = new google.maps.TrafficLayer();
 trafficLayer.setMap(map);
}
function showBicyclingLayer(){
 var bikeLayer = new google.maps.BicyclingLayer();
 bikeLayer.setMap(map);
}
</script> 
</head>
<body style="margin:0px; padding:0px;" onload="initialize()"> 
  <div id="map_canvas" style="width:100%; height:100%"></div> 
</body> 
</html> 